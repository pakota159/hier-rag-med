# GPU-optimized requirements for RunPod HierRAGMed evaluation
# Specifically tuned for RTX 4090 and CUDA 11.8/12.x

# ============================================================================
# CORE GPU COMPUTING
# ============================================================================

# PyTorch with CUDA support (install via conda for best compatibility)
# conda install pytorch torchvision torchaudio pytorch-cuda=11.8 -c pytorch -c nvidia
torch>=2.0.0
torchvision>=0.15.0
torchaudio>=2.0.0

# GPU acceleration libraries
accelerate>=0.20.0              # Hugging Face acceleration library
optimum>=1.8.0                  # Hardware optimization
triton>=2.0.0                   # GPU kernel optimization (for newer PyTorch)

# ============================================================================
# TRANSFORMERS AND NLP
# ============================================================================

# Core transformer libraries
transformers>=4.30.0            # Latest features and optimizations
tokenizers>=0.13.0              # Fast tokenization
sentence-transformers>=2.2.0    # Sentence embeddings
datasets>=2.12.0                # Dataset handling

# Model serving and inference
huggingface-hub>=0.15.0         # Model hub integration
safetensors>=0.3.0              # Safe tensor serialization

# ============================================================================
# WEB INTERFACE AND VISUALIZATION
# ============================================================================

# Streamlit and dashboard
streamlit>=1.28.0               # Web interface
streamlit-aggrid>=0.3.0         # Enhanced data grids
streamlit-option-menu>=0.3.0    # Better navigation
plotly>=5.15.0                  # Interactive plots
altair>=5.0.0                   # Alternative plotting

# ============================================================================
# DATA PROCESSING AND ANALYSIS
# ============================================================================

# Core data science
pandas>=2.0.0                   # Data manipulation
numpy>=1.24.0                   # Numerical computing
scipy>=1.10.0                   # Scientific computing
scikit-learn>=1.3.0             # Machine learning utilities

# Specialized data processing
polars>=0.18.0                  # Fast dataframes (alternative to pandas)
pyarrow>=12.0.0                 # Columnar data format
fastparquet>=2023.4.0           # Fast parquet I/O

# ============================================================================
# VECTOR DATABASES AND SEARCH
# ============================================================================

# Vector databases
chromadb>=0.4.0                 # Vector database
faiss-gpu>=1.7.2                # GPU-accelerated similarity search
hnswlib>=0.7.0                  # Fast approximate nearest neighbor search
pinecone-client>=2.2.0          # Pinecone vector database (optional)

# Search and retrieval
rank-bm25>=0.2.2                # BM25 implementation
elasticsearch>=8.8.0            # Full-text search (optional)

# ============================================================================
# LANGUAGE MODELS AND APIs
# ============================================================================

# LLM APIs
openai>=0.27.0                  # OpenAI API
anthropic>=0.3.0                # Anthropic Claude API
ollama>=0.1.7                   # Local LLM serving

# ============================================================================
# EVALUATION AND METRICS
# ============================================================================

# Evaluation metrics
evaluate>=0.4.0                 # Hugging Face evaluation library
rouge-score>=0.1.2              # ROUGE metrics
sacrebleu>=2.3.0                # BLEU metrics
bert-score>=0.3.13              # BERT-based evaluation
nltk>=3.8.1                     # Natural language toolkit
spacy>=3.6.0                    # Advanced NLP

# Statistical analysis
statsmodels>=0.14.0             # Statistical modeling
seaborn>=0.12.0                 # Statistical visualization
matplotlib>=3.7.0               # Plotting

# ============================================================================
# UTILITIES AND INFRASTRUCTURE
# ============================================================================

# Logging and monitoring
loguru>=0.7.0                   # Enhanced logging
rich>=13.0.0                    # Rich text and progress bars
tqdm>=4.65.0                    # Progress bars
wandb>=0.15.0                   # Experiment tracking (optional)

# Configuration and data formats
pyyaml>=6.0                     # YAML configuration
toml>=0.10.2                    # TOML configuration
jsonlines>=3.1.0                # JSON Lines format
python-dotenv>=1.0.0            # Environment variables

# HTTP and networking
httpx>=0.24.0                   # Async HTTP client
aiohttp>=3.8.0                  # Async HTTP framework
requests>=2.31.0                # HTTP library
urllib3>=2.0.0                  # HTTP client

# ============================================================================
# DEVELOPMENT AND DEBUGGING
# ============================================================================

# Development tools
ipython>=8.14.0                 # Enhanced Python shell
jupyter>=1.0.0                  # Jupyter notebooks
ipykernel>=6.23.0               # Jupyter kernel
notebook>=6.5.0                 # Jupyter notebook interface

# Code quality and formatting
black>=23.0.0                   # Code formatting
isort>=5.12.0                   # Import sorting
flake8>=6.0.0                   # Code linting
mypy>=1.4.0                     # Type checking

# Testing
pytest>=7.4.0                   # Testing framework
pytest-asyncio>=0.21.0          # Async testing
pytest-cov>=4.1.0               # Coverage testing

# ============================================================================
# PERFORMANCE MONITORING
# ============================================================================

# System monitoring
psutil>=5.9.0                   # System and process utilities
nvidia-ml-py3>=7.352.0          # NVIDIA GPU monitoring
py3nvml>=0.2.7                  # NVIDIA Management Library
pynvml>=11.5.0                  # NVIDIA ML Python bindings
gpustat>=1.1.1                  # GPU status monitoring

# Memory profiling
memory-profiler>=0.61.0         # Memory usage profiling
line-profiler>=4.0.0            # Line-by-line profiling
pympler>=0.9                    # Memory analysis

# ============================================================================
# DATABASE AND STORAGE
# ============================================================================

# Database connectivity
sqlalchemy>=2.0.0               # SQL toolkit
alembic>=1.11.0                 # Database migrations
sqlite3                         # Built-in SQLite (no version needed)

# File I/O optimization
aiofiles>=23.1.0                # Async file operations
h5py>=3.9.0                     # HDF5 file format
zarr>=2.15.0                    # Chunked arrays

# ============================================================================
# OPTIONAL GPU-SPECIFIC OPTIMIZATIONS
# ============================================================================

# Advanced GPU libraries (install if needed)
# cupy-cuda11x>=12.0.0          # NumPy-like library for GPU
# cudf>=23.06.0                 # GPU DataFrame library
# cugraph>=23.06.0              # GPU graph analytics
# cuml>=23.06.0                 # GPU machine learning

# Distributed computing (for multi-GPU setups)
# ray>=2.5.0                    # Distributed computing
# dask>=2023.6.0                # Parallel computing

# ============================================================================
# MISC UTILITIES
# ============================================================================

# CLI and user interaction
typer>=0.9.0                    # CLI framework
click>=8.1.0                    # Command line interface
prompt-toolkit>=3.0.38          # Interactive command lines

# Date and time
python-dateutil>=2.8.2          # Date utilities
pytz>=2023.3                    # Timezone handling

# Serialization
pickle5>=0.0.12                 # Enhanced pickle (Python < 3.8)
dill>=0.3.6                     # Extended pickling
cloudpickle>=2.2.1              # Pickle for cloud computing

# Security and hashing
cryptography>=41.0.0            # Cryptographic recipes
hashlib                         # Built-in hashing (no version needed)

# ============================================================================
# VERSION CONSTRAINTS FOR STABILITY
# ============================================================================

# Pin critical versions for stability
pydantic>=1.10.0,<2.0.0        # Data validation (v1 for compatibility)
typing-extensions>=4.6.0        # Type hints backport
packaging>=23.0                 # Package utilities
setuptools>=68.0.0              # Package building
wheel>=0.40.0                   # Package distribution